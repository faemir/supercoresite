<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="super-member">
  <template>
    <style>
      :host {
        position: relative;
        display: inline-block;
        margin: 10px;
        border-radius: 3px;
        border-bottom-right-radius: 14px;
        height: 130px;
        width: 300px;
        padding: 0px;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        cursor: default;
        border: 2px solid white;
      }

      :host:hover {
        border: 2px solid rgba(230, 37, 71, 0.65);
      }

      paper-material {
        border-radius: 3px;
        border-bottom-right-radius: 14px;
      }

      .team-card {
        height: 100%;
      }

      .card-img {
        position: relative;
        display: inline-block;
        height: 100%;
        width: 100px;
      }

      .card-img:hover {
        background-color: rgba(255, 255, 255, 0);

      }

      .card-content {
        /*background-color: rgba(215, 215, 215, 0.02);*/
        padding: 5px 15px;
        width: 200px;
        overflow: hidden;
        transition: all 0.5s ease;
      }

      .hide-card {
        position: absolute;
        opacity: 0;
        pointer-events: none;
        /*cursor: default;*/
      }

      :host >::content name {
        margin-top: 5px;
        font-size: 1em;
        font-weight: bold;
        color: #55353A;
      }

      :host >::content bio {
        font-size: 0.9em;
        color: rgba(85, 53, 58, 0.91);
      }

      :host >::content img.avatar {
        height: 64px;
        width: 64px;
        border-radius: 15px;
      }

      paper-ripple {
        color: #55353A;
        z-index: 1;
        cursor: pointer; cursor: hand;
      }

      ::content:host a {
        display: table;
        font-size: 1em;
        color: #55353A;
        text-decoration: none;
        transition: all 0.1s ease;
      }

      ::content:host a:hover {
        display: table;
        font-size: 1em;
        color: white;
        text-decoration: none;
        transition: all 0.1s ease;
      }

      #linkscard {
        z-index: 10;
        top: 0px;
        padding: 5px 10px;
      }

      #linkscard > .links-header {
        font-size: 1em;
        color: #55353A;
        font-style: italic;
        margin-bottom: 2px;
        margin-left: -10px;
      }

      #linkscard >::content a {
        color: #55353A;
        text-decoration: none;
        transition: all 0.5s ease;
      }

      #linkscard >::content a:hover {
        color: rgb(230, 37, 71);
        text-decoration: none;
        transition: all 0.5s ease;
      }

      .nothing-here {
        font-size: 0.8em;
        color: #55353A;
      }
    </style>

    <paper-material elevation="0" class="team-card layout horizontal">

      <a href="#" class="card-img layout vertical center-center">

        <content select="img.avatar">
          <img class="avatar" src="../../images/supercore-person.png"></img>
        </content>
        <content id="membername" select="name"></content>
      </a>

      <div class="card-content layout vertical">
        <paper-ripple class="" recenters>
        </paper-ripple>
        <div id="biocard" class="hide-card layout flex vertical center-justified">
          <content select="bio"></content>
        </div>

        <div id="linkscard" class="layout vertical">
          <template is="dom-if" if="{{hasLinks}}">
            <div class="links-header">Contact
            </div>
          </template>
          <template is="dom-if" if="{{!hasLinks}}">
            <div class="links-header">Contact
            </div>
            <div class="nothing-here">Nothing here :(</div>
          </template>
          <content id="memberlinks" select="a"></content>
        </div>
      </div>


    </paper-material>

  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'super-member',
        properties: {
          isHidden: {
            type: Boolean,
            observer: '_isHiddenChanged',
            notify: true,
            value: false
          },
          hasLinks: {
            type: Boolean,
            notify: true,
            value: false
          },
          name: {
            type: String
          },
        },
        ready: function() {
          this.name = Polymer.dom(this.$.membername).getDistributedNodes()[0].textContent;
          if (Polymer.dom(this.$.memberlinks).getDistributedNodes().length > 0) {
            this.hasLinks = true;
          } else {
            this.hasLinks = false;
          }
        },
        _isHiddenChanged: function() {
          this.toggleClass('hide-card', !Polymer.dom(this.$.biocard).classList.contains('hide-card'), this.$.biocard);
          this.toggleClass('hide-card', !Polymer.dom(this.$.linkscard).classList.contains('hide-card'), this.$.linkscard);
        },
      });
    })();
  </script>

</dom-module>
